<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Thumbnail Gallery - Start Bootstrap Template</title>

    <!-- Bootstrap core CSS -->
    <link href="../TableFiles/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <script src="../TableFiles/vendor/jquery/jquery.min.js"></script>
    <link href="../TableFiles/css/thumbnail-gallery.css" rel="stylesheet">




    <script >
        var count = 15;
        var custom_list;
        $(document).ready(function() {

         var ans =  $.ajax({
            url: '/api/table/getAllTables',
            type: "GET",

            statusCode: {
                404: function() {
                    console.log("-1-1-1-1 WE GOT 404!");
                },
                200: function(x) {
                    console.log(x);
                    var dat=JSON.parse(x);
                    console.log(dat);
                    console.log(x);

                    //role=x.length;
                    //console.log(role);
                    //custom_list = getMenu();
                    //$('#tables').html(custom_list);
                    custom_list = getMenu(dat);
                    $('#tables').html(custom_list);

                }
            }
        });


      function getMenu(array) {
        <!-- 1) Birlesik masalar recursive kontrol edilecek -->
        <!-- 2) ilk masaya tum masalarin adi yazilacak -->
        <!-- 3) kalan masalara id basilmayacak -->
        <!-- 4) Masanin on click functionu olacak oradan merge veya state i degisecek -->
        <!-- 5)   -->



          //var x="<script src='../TableFiles/vendor/jquery/jquery.min.js'>";
          var x="<script src='https://cdn.jsdelivr.net/npm/sweetalert2@7.32.2/dist/sweetalert2.all.min.js'>";
          x+="<";
          x+="/script>";
          x+="<script";
          x+=">"
          x+="\$(document).ready(function(){";
          x+="\$('div#tables div').click( function(e) {";
          //x+="\$(location).attr('href', \$(this).attr('value'));";
          x+="var y=\$(this).attr('value');";
          x+="e.preventDefault();";
          //x+="var dialog = new $.Zebra_Dialog('The link was clicked!',{type: 'question',title: 'Custom buttons',buttons: ['Yes', 'No', 'Help'],onClose: function(caption) {alert((caption != '' ? '\"' + caption + '\"' : 'nothing') + ' was clicked');}});";
          x+="Swal({";
          x+="title: 'Are you sure?',";
          x+="text: \"You won't be able to revert \"+ y +\" this!\",";
          x+="  type: 'warning',";
          x+="  showCancelButton: true,";
          x+="confirmButtonColor: '#3085d6',";
          x+="cancelButtonColor: '#d33',";
          x+="  confirmButtonText: 'Yes, delete it!'";
          x+="}).then((result) => {";
          x+="  if (result.value) {";
          x+="    Swal(";
          x+="      'Deleted!',";
          x+="      'Your file has been deleted.',";
          x+="      'success'";
          x+="    )}})";
          x+="});});";
          x+="<";
          x+="/script>";
          var items="";

          for (var i = 0; i < array.length ; i++) {
            items+="<div id='" + array[i].id + "' value='table"+i+"' class='col-lg-3 col-md-4 col-xs-6'><p class='d-block mb-4 h-100'><img class='img-fluid img-thumbnail' src='http://placehold.it/400x300' alt=''></p></div>";
          }





          return items+x;

      }
  });
    </script>

  </head>

  <body>


    <!-- Navigation -->


    <!-- Page Content -->
    <div class="container">

      <h1 class="my-4 text-center text-lg-left">Thumbnail Gallery</h1>

      <div id="tables" class="row text-center text-lg-left">

      </div>

    </div>
    <!-- /.container -->

    <!-- Footer -->

    <!-- Bootstrap core JavaScript -->
    <script src="../TableFiles/vendor/jquery/jquery.min.js"></script>
    <script src="../TableFiles/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>


  </body>

</html>
