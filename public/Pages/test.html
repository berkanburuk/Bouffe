<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Title</title>

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script>
</head>
<body>
<div id="someHtml" class="divA3">
    <style type="text/css">
        .divA3 {
            width: 297mm;
            height: 420mm;
            padding: 20px;
        }

        .tg {
            border-collapse: collapse;
            border-spacing: 0;
            table-layout: fixed;
            width: 100%;
            height: 100%
        }

        .tg td {
            font-family: Arial, sans-serif;
            font-size: 18px;
            padding: 10px 5px;
            border-style: solid;
            border-width: 1px;
            overflow: hidden;
            word-break: normal;
            border-color: black;
        }

        .tg th {
            font-family: Arial, sans-serif;
            font-size: 18px;
            font-weight: normal;
            padding: 10px 5px;
            border-style: solid;
            border-width: 1px;
            overflow: hidden;
            word-break: normal;
            border-color: black;
        }

        .tg .tg-g5xs {
            font-size: 15px;
            text-align: center;
            vertical-align: top
        }

        .tg .tg-3z1b {
            border-color: #000000;
            text-align: right;
            vertical-align: top
        }

        .tg .tg-p1nr {
            font-size: 15px;
            border-color: inherit;
            text-align: left;
            vertical-align: top
        }

        .tg .tg-cj3p {
            font-size: 21px;
            font-family: "Times New Roman", Times, serif !important;;
            border-color: inherit;
            text-align: center
        }

        .tg .tg-qu95 {
            font-weight: bold;
            font-style: italic;
            font-size: 16px;
            border-color: inherit;
            text-align: left;
            vertical-align: top
        }

        .tg .tg-3pun {
            font-size: 17px;
            border-color: inherit;
            text-align: left
        }

        .tg .tg-73oq {
            border-color: #000000;
            text-align: left;
            vertical-align: top
        }

        .tg .tg-nl9u {
            font-weight: bold;
            font-size: 17px;
            border-color: inherit;
            text-align: left
        }

        .tg .tg-ai0l {
            font-weight: bold;
            font-size: 17px;
            border-color: inherit;
            text-align: center;
            vertical-align: top
        }

        .tg .tg-fzbl {
            font-weight: bold;
            font-size: 16px;
            border-color: inherit;
            text-align: left
        }

        .tg .tg-xldj {
            border-color: inherit;
            text-align: left
        }

        .tg .tg-0pky {
            border-color: inherit;
            text-align: left;
            vertical-align: top
        }

        .tg .tg-0p48 {
            font-weight: bold;
            font-size: 16px;
            border-color: inherit;
            text-align: left;
            vertical-align: top
        }

        .tg .tg-73a0 {
            font-size: 17px;
            border-color: inherit;
            text-align: left;
            vertical-align: top
        }
    </style>
    <table class="tg">
        <tr>
            <th class="tg-cj3p" colspan="15"><span style="font-weight:bold">BÄ°LKENT UNIVERSITY</span><br><span
                    style="font-weight:bold">School of Tourism &amp; Hotel Management</span><br><span
                    style="font-weight:bold">Vocational School of Tourism &amp; Hotel Services</span><br><span
                    style="font-weight:bold">THE PRACTICE RESTAURANT</span><br><span style="font-weight:bold">GUEST CHECK  </span>
            </th>
        </tr>
        <tr>
            <td class="tg-3z1b" colspan="12">No</td>
            <td id="checkNo" class="tg-73oq" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-g5xs" colspan="3"><br>..../..../20...</td>
            <td class="tg-g5xs" colspan="3">Server<br><br><br></td>
            <td class="tg-g5xs" colspan="3">Table No.</td>
            <td class="tg-g5xs" colspan="3">Covers</td>
            <td class="tg-g5xs" colspan="3">Check No.</td>
        </tr>
        <tr>
            <td class="tg-3pun"></td>
            <td class="tg-nl9u" colspan="8">Items served</td>
            <td class="tg-ai0l">Unit</td>
            <td class="tg-ai0l" colspan="2">Unit TL</td>
            <td class="tg-ai0l" colspan="3">Total TL</td>
        </tr>
        <tr>
            <td class="tg-fzbl">1</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-fzbl">2</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-fzbl">3</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-fzbl">4</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-fzbl">5</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-fzbl">6</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-fzbl">7</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-fzbl">8</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-fzbl">9</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-fzbl">10</td>
            <td class="tg-xldj" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-0p48">11</td>
            <td class="tg-0pky" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-0p48">12</td>
            <td class="tg-0pky" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-0p48">13</td>
            <td class="tg-0pky" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-0p48">14</td>
            <td class="tg-0pky" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-0p48">15</td>
            <td class="tg-0pky" colspan="8"></td>
            <td class="tg-0pky"></td>
            <td class="tg-0pky" colspan="2"></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-0pky" rowspan="10"></td>
            <td class="tg-73a0" colspan="11"><span style="font-weight:bold">Total Food</span></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-73a0" colspan="11"><span style="font-weight:bold">Total Beverage</span></td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-0p48" colspan="11">GRAND TOTAL</td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-qu95" colspan="11">Ticket</td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-qu95" colspan="11">Credit</td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-qu95" colspan="11">Cash</td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-qu95" colspan="11">Complimentary</td>
            <td class="tg-0pky" colspan="3"></td>
        </tr>
        <tr>
            <td class="tg-p1nr" colspan="14" rowspan="3"><br><span style="font-weight:bold">Guest Name      : ..................................</span><span
                    style="font-weight:700">...........................................</span><span
                    style="font-weight:bold">..........</span><br><br><span style="font-weight:bold">Guest Signature: ...............</span><span
                    style="font-weight:700">........................................................</span><span
                    style="font-weight:bold">..............</span><br><br><br><span style="font-weight:bold">* For Complimentary use, kindly fill out the back of the guest check.</span>
            </td>
        </tr>
        <tr>
        </tr>
        <tr>
        </tr>
    </table>
</div>
</body>
</html>
<script type="text/javascript">
 /*   html2canvas($("#someHtml"), {
        useCORS: true,
        onrendered: function (canvas) {
            var width = canvas.width;
            var height = canvas.height;
            var millimeters = {};
            millimeters.width = Math.floor(width * 0.264583);
            millimeters.height = Math.floor(height * 0.264583);
            var imgData = canvas.toDataURL('image/png');
            var doc = new jsPDF('p', 'mm', 'a6');
            doc.deletePage(1);
            doc.addPage(millimeters.width, millimeters.height);
            doc.addImage(imgData, 'PNG', 0, 0);
            //doc.addImage(imgData, 'PNG', 75, 80,width,height);
            doc.save('guestCheck.pdf');
            //setTimeout(function () { window.open(imgData) }, 1000);
        }
    });*/
    $.ajax({
        url: '/api/guestCheck/nextGuestList',
        type: "GET",
        statusCode: {
            404: function () {
                console.log("-1-1-1-1 WE GOT 404!");
            },
            200: function (responseBody) {
                var dat = JSON.parse(responseBody);
                console.log(dat)
                document.getElementById('checkNo').innerHTML = dat.id;
            }
        }
    });
</script>

<!--
<script>


    $(document).ready(function(){
        $('div#tables div#utable').click( function(e) {

            e.preventDefault();
            var merged = false;
            var activated = false;
            var mergedlist={};
            var y = parseInt($(this).attr('value'));
            var getTable = $.ajax({
                url: '/api/table/getATable/' + y,
                type: "GET",
                statusCode: {
                    404: function () {
                        console.log("-1-1-1-1 WE GOT 404!");
                    },

                    200: function (responseBody) {
                        console.log(responseBody);
                        var dat = JSON.parse(responseBody);
                        console.log(dat);
                        console.log(responseBody);
                        if (dat.status < 1 ) {
                            console.log("-1 Then");
                            if(dat.mergedWith===-2){
                                console.log("-2 Then");
                                var getMerged=$.ajax({
                                    url: '/api/table/getTableMinus',
                                    type: "GET",
                                    statusCode: {
                                        404: function () {
                                            console.log("-1-1-1-1 WE GOT 404!");
                                        },
                                        200: function(respBody2){
                                            var data = JSON.parse(respBody2);
                                            console.log(data.length);
                                            if(data.length===undefined)
                                            {
                                                mergedlist[data.id] = data.id;
                                            }
                                            else {
                                                for (var i = 0; i < data.length; i++) {
                                                    mergedlist[data[i].id] =  data[i].id;
                                                }
                                            }
                                            case0(mergedlist,y);
                                        },
                                    }
                                })
                            }
                            else{
                                case1(y);
                            }
                        }
                        else{
                            if(dat.mergedWith===-2)
                            {
                                console.log("-2 Then");
                                var getMerged=$.ajax({
                                    url: '/api/table/getTableMinus',
                                    type: "GET",
                                    statusCode: {
                                        404: function () {
                                            console.log("-1-1-1-1 WE GOT 404!");
                                        },
                                        200: function(respBody2){
                                            var data = JSON.parse(respBody2);
                                            if(data.length===undefined)
                                            {
                                                mergedlist[data.id] = data.id;
                                            }
                                            else {
                                                for (var i = 0; i < data.length; i++) {
                                                    mergedlist[data[i].id] =  data[i].id;
                                                }
                                            }
                                            case2(mergedlist,y);
                                        },
                                    }
                                })
                            }
                            else{
                                case3(y);
                            }
                        }
                    },
                }
            });
        });
        function case0(text,y) {
            Swal({
                title: 'Are you sure?',
                text: "You won't be able to revert " + y + " this!",
                type: 'warning',
                showCancelButton: true,
                showCloseButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#18426B',
                confirmButtonText: 'Combine',
                cancelButtonText: 'Activate'
            }).then((result) => {
                if (result.value) {
                    Swal.mixin({
                        input: 'select',
                        inputOptions: text,
                        confirmButtonText: 'Next &rarr;',
                        showCancelButton: true,
                    }).queue([
                        {
                            title: 'Manage Table',
                            text: 'Select Table to combine/divide'
                        }]).then((result,id) => {
                        if (result.value) {
                            Swal({
                                title: 'All done!',
                                html:
                                    'Your answers:' +
                                    result.value,
                                confirmButtonText: 'Lovely!'
                            })
                            var data = {
                                tableId1: parseInt(result.value[0]),
                                tableId2: y,
                            };
                            $.ajax({
                                type: 'POST',
                                dataType: 'application/json',
                                url: '/api/table/createAMerge',
                                timeout: 5000,
                                data: data, statusCode: {
                                    200: function (x) {
                                        location.reload();
                                    },
                                    404: function (x) {
                                        alert(x.responseText);
                                    }
                                },
                            })
                        }
                    })
                }
                else if(result.dismiss=== Swal.DismissReason.cancel)
                {
                    Swal(
                        'Anim',
                        'table',
                        'success',
                    ).then(()=>{
                        console.log(y);
                        var data = {
                            tableId: y,
                            status: 1,
                        };
                        $.ajax({
                            type: 'POST',
                            dataType: 'application/json',
                            url: '/api/table/updateStatus',
                            timeout: 5000,
                            data: data, statusCode: {
                                200: function (x) {
                                    location.reload();
                                },
                                404: function (x) {
                                    alert(x.responseText);
                                }
                            },
                        })
                    })
                }
            })
        }
        function case1(text,y) {
            Swal({
                title: 'Attention!',
                text: "You are going to confirm that the order "+text+" with " + y + " id is ready  !",
                type: 'information',
                showCloseButton: true,
                confirmButtonColor: '#3085d6',

                confirmButtonText: 'Ready',

            }).then((result) => {

                        console.log(y);
                        var data = text.split('-'); $.ajax({
                            type: 'GET',
                            dataType: 'application/json',
                            url: '/api/order/chefApprovesFoodReady'+y,
                            timeout: 10000,
                            data: data, statusCode: {
                                200: function (x) {
                                    location.reload();
                                },
                                404: function (x) {
                                    alert(x.responseText);
                                }
                            },
                        })
                    })


        }
        function case2(text,y) {
            Swal({
                title: 'Are you sure?',
                text: "You won't be able to revert " + y + " this!",
                type: 'warning',
                showCancelButton: true,
                showCloseButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#18426B',
                confirmButtonText: 'Combine',
                cancelButtonText: 'Deactivate'
            }).then((result) => {
                if (result.value) {
                    Swal.mixin({
                        input: 'select',
                        inputOptions: text,
                        confirmButtonText: 'Next &rarr;',
                        showCancelButton: true,
                    }).queue([
                        {
                            title: 'Manage Table',
                            text: 'Select Table to combine/divide'
                        }]).then((result,id) => {
                        if (result.value) {
                            Swal({
                                title: 'All done!',
                                html:
                                    'Your answers:' +
                                    result.value,
                                confirmButtonText: 'Lovely!'
                            })
                            console.log(result.value);
                            var data = {
                                tableId1: parseInt(result.value[0]),
                                tableId2: y,
                            };
                            console.log(data);
                            $.ajax({
                                type: 'POST',
                                dataType: 'application/json',
                                url: '/api/table/createAMerge',
                                timeout: 5000,
                                data: data, statusCode: {
                                    200: function (x) {
                                        location.reload();
                                    },
                                    404: function (x) {
                                        alert(x.responseText);
                                    }
                                },
                            })
                        }
                    })
                }
                else if(result.dismiss=== Swal.DismissReason.cancel)
                {
                    Swal(
                        'Anim',
                        'table',
                        'success',
                    ).then(()=>{
                        console.log(y);
                        var data = {
                            tableId: y,
                            status: 0,
                        };
                        $.ajax({
                            type: 'POST',
                            dataType: 'application/json',
                            url: '/api/table/updateStatus',
                            timeout: 5000,
                            data: data, statusCode: {
                                200: function (x) {
                                    location.reload();
                                },
                                404: function (x) {
                                    alert(x.responseText);
                                }
                            },
                        })
                    })
                }
            })
        }
        function case3(y) {
            Swal({
                title: 'Are you sure?',
                text: "You won't be able to revert " + y + " this!",
                type: 'warning',
                showCancelButton: true,
                showCloseButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#18426B',
                confirmButtonText: 'Divide',
                cancelButtonText: 'Deactivate'
            }).then((result) => {

                if (result.value) {
                    Swal(
                        'Tables are unmerged',
                        'table',
                        'success',
                    ).then(()=>{
                        console.log(y);
                        var data={};
                        var send = text.split('-');
                        for(var i=0;i<data.length; i++)
                        {
                            data[i]=send[i];
                        }
                        $.ajax({
                            type: 'POST',
                            dataType: 'application/json',
                            url: '/api/table/unmergeTable',
                            timeout: 5000,
                            data: data, statusCode: {
                                200: function (x) {
                                    location.reload();
                                },
                                404: function (x) {
                                    alert(x.responseText);
                                }
                            },
                        })
                    })
                }
                else if(result.dismiss=== Swal.DismissReason.cancel)
                {
                    Swal(
                        'Anim',
                        'table',
                        'success',
                    ).then(()=>{
                        console.log(y);
                        var data = {
                            tableId: y,
                            status: 0,
                        };
                        $.ajax({
                            type: 'POST',
                            dataType: 'application/json',
                            url: '/api/table/updateStatus',
                            timeout: 5000,
                            data: data, statusCode: {
                                200: function (x) {
                                    location.reload();
                                },

                                404: function (x) {
                                    alert(x.responseText);
                                }
                            },
                        })
                    })
                }
            })
        }
    });

</script>

<script>


    $(document).ready(function() {
        $('div#bodyHere div#order').click(function (e) {

            e.preventDefault();
            var y = parseInt($(this).attr('value'));
            var texty = $(this).attr('name');
            case1(texty, y);
        });

        function case1(text, y) {
            Swal({
                title: 'Attention!',
                text: "You are going to confirm that the order " + text + " with " + y + " id is ready  !",
                type: 'information',
                showCloseButton: true,
                confirmButtonColor: '#3085d6',
                confirmButtonText: 'Ready',
            }).then((result) => {
                console.log(y);
                console.log(y);
                $.ajax({
                    type: 'GET',
                    dataType: 'application/json',
                    url: '/api/order/chefApprovesFoodReady' + y,
                    timeout: 10000,
                    statusCode: {
                        200: function (x) {
                            location.reload();
                        },
                        404: function (x) {
                            alert(x.responseText);
                        }
                    },
                })
            })
        }
    });


</script>

-->